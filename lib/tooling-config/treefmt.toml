# One CLI to format the code tree - https://github.com/numtide/treefmt

[formatter.stylua]
command = "stylua"
options = ["--config-path", "lib/tooling-config/stylua.toml"]
includes = ["*.lua"]
excludes = []

[formatter.statix]
command = "sh"
options = [
  "-euc",
  "for file in \"$@\"; do statix fix --config lib/tooling-config/statix.toml \"$file\"; done",
]
includes = ["*.nix"]

[formatter.deadnix]
command = "deadnix"
includes = ["*.nix"]

[formatter.just-fmt]
# command = "just"
# options = ["--fmt", "--unstable", "--justfile"]
command = "sh"
options = [
  "-euc",
  "for file in \"$@\"; do just --unstable --fmt --justfile \"$file\"; done",
]

includes = ["{J,j}ustfile", ".{J,j}ustfile", "*.just"]

[formatter.nixpkgs-fmt]
command = "nixpkgs-fmt"
includes = ["*.nix"]

[formatter.taplo]
command = "taplo"
options = ["format"]
includes = ["*.toml"]

[formatter.mdformat]
command = "mdformat"
includes = ["*.md"]

[formatter.yamlfmt]
command = "yamlfmt"
includes = ["*.yaml", "*.yml"]
